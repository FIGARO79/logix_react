@echo off
echo Iniciando LogiTrack...

REM Activar el entorno virtual
if exist ".\venv\Scripts\activate.bat" (
    call .\venv\Scripts\activate.bat
) else if exist ".\.venv\Scripts\activate.bat" (
    call .\.venv\Scripts\activate.bat
) else (
    echo Error: No se encontro el entorno virtual.
    echo Asegurate de haber ejecutado primero instalar_dependencias.bat
    pause
    exit /b 1
)

REM Verificar que Python esta disponible
python --version > nul 2>&1
if errorlevel 1 (
    echo Error: Python no esta disponible en el entorno virtual
    pause
    exit /b 1
)

REM Verificar que uvicorn esta instalado
python -c "import uvicorn" > nul 2>&1
if errorlevel 1 (
    echo Error: uvicorn no esta instalado
    echo Ejecutando: pip install uvicorn
    pip install uvicorn
)

echo Iniciando servidor...
uvicorn app:app --reload --host 0.0.0.0 --port 8000
uvicorn app:app --reload --host 127.0.0.1 --port 8000
pause

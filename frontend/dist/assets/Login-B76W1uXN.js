import{j as e}from"./index-CtfDg2Lg.js";import{r,L as s}from"./react-vendor-BFe66WFD.js";const t=()=>{const[t,a]=r.useState(""),[o,n]=r.useState(""),[i,d]=r.useState(""),[l,c]=r.useState(!1);return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"fiori-login-card",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-[#2c3e50]",children:"Iniciar Sesi칩n"}),i&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:i})}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),d(""),c(!0);try{const e=new FormData;e.append("username",t),e.append("password",o);const r=await fetch("/api/login",{method:"POST",credentials:"include",body:e}),s=await r.json();r.ok?(s.user&&localStorage.setItem("user",JSON.stringify(s.user)),window.location.href="/dashboard"):d(s.error||"Error al iniciar sesi칩n")}catch(r){d("Error de conexi칩n con el servidor")}finally{c(!1)}},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Usuario"}),e.jsx("input",{type:"text",value:t,onChange:e=>a(e.target.value),required:!0,className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-[#0070d2] focus:ring focus:ring-[#0070d2] focus:ring-opacity-50 p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrase침a"}),e.jsx("input",{type:"password",value:o,onChange:e=>n(e.target.value),required:!0,className:"mt-1 block w-full rounded border-gray-300 shadow-sm focus:border-[#0070d2] focus:ring focus:ring-[#0070d2] focus:ring-opacity-50 p-2 border"})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-[#0070d2] text-white py-2 rounded hover:bg-[#005fb2] transition "+(l?"opacity-50 cursor-not-allowed":""),children:l?"Cargando...":"Entrar"}),e.jsx("div",{className:"mt-4 text-center text-sm",children:e.jsx(s,{to:"/register",className:"text-blue-600 hover:underline",children:"Registrarse"})})]})]})})};export{t as default};
